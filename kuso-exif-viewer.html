<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EXIF PRO // CYBERDECK</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exif-js/2.3.0/exif.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --cyber-dark: #050a0e;
            --cyber-bg-frame: #111827;
            --cyber-cyan: #00fff9;
            --cyber-pink: #fe0056;
            --cyber-yellow: #fcec0c;
            --cyber-green: #39ff14;
            --cyber-text: #e0f7fa;
        }
        body {
            background-color: var(--cyber-dark);
            color: var(--cyber-text);
            font-family: 'Share Tech Mono', 'Noto Sans TC', monospace;
            overflow-x: hidden;
        }
        .cyber-border {
            border: 2px solid var(--cyber-cyan);
            box-shadow: 0 0 10px var(--cyber-cyan), inset 0 0 20px rgba(0, 255, 249, 0.1);
        }
        .cyber-border-pink {
            border: 2px solid var(--cyber-pink);
            box-shadow: 0 0 10px var(--cyber-pink);
        }
        .cyber-border-yellow {
            border: 2px solid var(--cyber-yellow);
            box-shadow: 0 0 10px var(--cyber-yellow);
        }
        .glitch-text {
            text-shadow: 2px 2px var(--cyber-pink), -2px -2px var(--cyber-cyan);
        }
        .cyber-btn {
            background: transparent;
            border: 1px solid var(--cyber-cyan);
            color: var(--cyber-cyan);
            text-transform: uppercase;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }
        .cyber-btn:hover {
            background: var(--cyber-cyan);
            color: var(--cyber-dark);
            box-shadow: 0 0 15px var(--cyber-cyan);
        }
        .cyber-btn::before {
            content: '';
            position: absolute;
            top: 0; left: -100%;
            width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }
        .cyber-btn:hover::before {
            left: 100%;
        }
        .scanline {
            width: 100%;
            height: 100px;
            z-index: 10;
            background: linear-gradient(0deg, rgba(0,0,0,0) 0%, rgba(0, 255, 249, 0.1) 50%, rgba(0,0,0,0) 100%);
            opacity: 0.1;
            background-size: 100% 100%;
            position: fixed;
            pointer-events: none;
            animation: scanline 10s linear infinite;
            top: -100px;
        }
        @keyframes scanline {
            0% { top: -100px; }
            100% { top: 100vh; }
        }
        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--cyber-dark); }
        ::-webkit-scrollbar-thumb { background: var(--cyber-cyan); }
    </style>
</head>
<body class="min-h-screen flex flex-col p-4 md:p-6 relative">

    <div class="scanline"></div>

    <!-- Header -->
    <header class="text-center mb-6 relative z-20">
        <h1 class="text-3xl md:text-5xl font-bold glitch-text tracking-widest mb-2">[ N E O - T O K Y O // E X I F _ D E C K ]</h1>
        <p class="text-[var(--cyber-cyan)] text-sm md:text-base">SYSTEM STATUS: <span id="system-status" class="animate-pulse">ONLINE</span></p>
    </header>

    <!-- Main Container -->
    <div class="flex-grow max-w-7xl mx-auto w-full grid grid-cols-1 lg:grid-cols-2 gap-6 relative z-20">
        
        <!-- Left Column: Preview -->
        <div class="flex flex-col gap-6">
            <!-- Image Preview Area -->
            <div id="drop-zone" class="cyber-border bg-[var(--cyber-bg-frame)] rounded-lg min-h-[400px] flex flex-col items-center justify-center relative overflow-hidden group cursor-pointer transition-all">
                <input type="file" id="file-input" multiple accept="image/jpeg,image/jpg,image/png,image/tiff,image/webp" class="hidden">
                
                <div id="preview-placeholder" class="text-center p-8">
                    <i class="fa-solid fa-camera-retro text-6xl text-[var(--cyber-cyan)] mb-4 opacity-70 group-hover:scale-110 transition-transform"></i>
                    <p class="text-[var(--cyber-cyan)] text-xl font-bold">>> æ‹–æ›³å½±åƒè³‡æ–™è‡³æ­¤è¼‰å…¥ <<</p>
                    <p class="text-[var(--cyber-pink)] text-xs mt-2">[ æ”¯æ´æ‰¹æ¬¡ä¸Šå‚³ // é»æ“Šé¸æ“‡æª”æ¡ˆ ]</p>
                </div>

                <img id="image-preview" class="hidden w-full h-full object-contain p-2 z-10">
                
                <!-- Overlay Grid (Decorative) -->
                <div class="absolute inset-0 bg-[linear-gradient(rgba(0,255,249,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(0,255,249,0.03)_1px,transparent_1px)] bg-[size:20px_20px] pointer-events-none"></div>
                
                <!-- Hover Warning -->
                <div id="hover-warning" class="hidden absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[var(--cyber-yellow)] text-[var(--cyber-dark)] p-4 font-bold border-2 border-white shadow-[0_0_20px_var(--cyber-yellow)] z-20 text-center pointer-events-none whitespace-nowrap">
                    [ è­¦å‘Šï¼šåµæ¸¬åˆ°æ‰‹æŒ‡è¼¸å…¥ ]<br>é»å•Šï¼Œä½ çµ¦æˆ‘é»å•Š
                </div>
            </div>

            <!-- Controls -->
            <div class="grid grid-cols-3 gap-4">
                <button id="btn-prev" class="cyber-btn h-12 rounded font-bold text-lg disabled:opacity-30 disabled:cursor-not-allowed">
                    <i class="fa-solid fa-chevron-left"></i> ä¸Šä¸€å¼µ
                </button>
                <button id="btn-export" class="cyber-btn h-12 rounded font-bold text-lg border-[var(--cyber-green)] text-[var(--cyber-green)] hover:bg-[var(--cyber-green)] hover:text-black hover:shadow-[0_0_15px_var(--cyber-green)]">
                    >> è¼¸å‡ºè³‡æ–™ <<
                </button>
                <button id="btn-next" class="cyber-btn h-12 rounded font-bold text-lg disabled:opacity-30 disabled:cursor-not-allowed">
                    ä¸‹ä¸€å¼µ <i class="fa-solid fa-chevron-right"></i>
                </button>
            </div>
            
            <!-- File Info Bar -->
            <div class="flex justify-between text-xs text-[var(--cyber-cyan)] font-mono bg-[var(--cyber-bg-frame)] p-2 border border-[var(--cyber-cyan)]">
                <span id="file-index">INDEX: 0/0</span>
                <span id="file-name">NO_DATA</span>
            </div>
        </div>

        <!-- Right Column: Data -->
        <div class="flex flex-col gap-6">
            
            <!-- Gear List -->
            <div class="flex-1 cyber-border-yellow bg-[var(--cyber-bg-frame)] rounded-lg p-4 flex flex-col relative overflow-hidden">
                <div class="absolute top-0 left-0 bg-[var(--cyber-yellow)] text-[var(--cyber-dark)] px-3 py-1 font-bold text-sm">
                    [ è£å‚™æ¸…å–® // GEAR_LIST ]
                </div>
                <div class="mt-8 flex-1 overflow-y-auto custom-scrollbar font-mono text-sm leading-relaxed" id="gear-list-content">
                    <p class="text-gray-500 animate-pulse">> ç­‰å¾…æ•¸æ“šè¼¸å…¥...</p>
                </div>
            </div>

            <!-- Exposure Data -->
            <div class="flex-1 cyber-border-pink bg-[var(--cyber-bg-frame)] rounded-lg p-4 flex flex-col relative overflow-hidden">
                <div class="absolute top-0 left-0 bg-[var(--cyber-pink)] text-white px-3 py-1 font-bold text-sm">
                    [ å‰ä¸–ä»Šç”Ÿ // EXPOSURE_DATA ]
                </div>
                <div class="mt-8 flex-1 overflow-y-auto custom-scrollbar font-mono text-sm leading-relaxed" id="exposure-data-content">
                    <p class="text-gray-500 animate-pulse">> ç­‰å¾…æ•¸æ“šè¼¸å…¥...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Soul Quote Modal (Popup) -->
    <div id="quote-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm">
        <div class="bg-[var(--cyber-bg-frame)] border-2 border-[var(--cyber-pink)] p-1 max-w-lg w-full mx-4 shadow-[0_0_30px_var(--cyber-pink)] transform scale-95 transition-transform" id="quote-box">
            <div class="bg-[var(--cyber-dark)] p-6 text-center border border-[var(--cyber-pink)]">
                <h3 class="text-[var(--cyber-pink)] text-xl font-bold mb-4 tracking-widest">// SYSTEM_OVERRIDE // éˆé­‚æ‹·å•</h3>
                <p id="soul-quote-text" class="text-[var(--cyber-text)] text-xl md:text-2xl font-bold leading-relaxed mb-8 min-h-[100px] flex items-center justify-center">
                    è¼‰å…¥ä¸­...
                </p>
                <button id="close-modal-btn" class="text-[var(--cyber-yellow)] text-xl font-bold hover:text-white transition-colors animate-pulse">
                    [ é»æ“Šä»»æ„è™•é—œé–‰ ]
                </button>
            </div>
        </div>
    </div>

    <!-- Navigation Link -->
    <div class="fixed bottom-4 right-4 z-30">
        <a href="index.html" class="bg-[var(--cyber-dark)] border border-[var(--cyber-cyan)] text-[var(--cyber-cyan)] px-3 py-1 text-xs hover:bg-[var(--cyber-cyan)] hover:text-[var(--cyber-dark)] transition-colors">
            < BACK_TO_HOME
        </a>
    </div>

    <script>
        // --- DATA ---
        const SOUL_QUOTES = [
            "ä½ ä¸æ˜¯å‡ç´šå™¨æï¼Œæ˜¯å»¶å¾Œé¢å°å¯¦åŠ›", "é˜²æ½®ç®±æ˜¯æ”å½±å¸«çš„å¤¢æƒ³å†°æ«ƒ", "å™¨æå…¨æ–°ï¼Œä½œå“å…¨ç„¡",
            "é¡é ­è¶Šè²´ï¼Œè¶Šä¸æ•¢å¸¶å‡ºé–€", "é¡é ­æ¯”ä½ çš„äººç”Ÿè¦åŠƒæ¸…æ¥š", "é–‹ç®±æ‹å¾—æ¯”ä½œå“èªçœŸ",
            "å™¨æè²·é½Šäº†ï¼Œæ‹ç…§é‚„åœ¨æ‰¾é¡Œæ", "ä½ ä¸æ˜¯å™¨æé»¨ï¼Œæ˜¯é€ƒé¿é»¨", "ç›¸æ©ŸçŸ¥é“ä½ å¾ˆçª®ï¼Œä½†ä½ è£ä½œä¸åœ¨ä¹",
            "æŠ€è¡“æ²’é€²æ­¥ï¼Œä½†é…ä»¶è¶Šä¾†è¶Šé½Š", "å…¨æ‰‹å‹•åªæ˜¯è®“éŒ¯èª¤æ›´æœ‰å°Šåš´", "ç”¨ M æ¨¡å¼æ‹çˆ›ï¼Œä¸æœƒæ¯”è¼ƒé«˜ç´š",
            "å…‰åœˆå…¨é–‹ä¸æ˜¯é¢¨æ ¼ï¼Œæ˜¯å¤±æ§", "å¿«é–€äº‚è½‰ï¼Œæ¨¡ç³Šç•¶å“²å­¸", "ISO çˆ†è¡¨ï¼Œå«æƒ…ç·’",
            "ä¸æœƒæ¸¬å…‰ï¼Œå»æ„›è«‡å…‰", "åƒæ•¸èƒŒå¾—ç†Ÿï¼Œç•«é¢é‚„æ˜¯æ­»", "ä½ åœ¨æ§åˆ¶ç›¸æ©Ÿï¼Œç›¸æ©Ÿåœ¨æ‡²ç½°ä½ ",
            "æ›å…‰è£œå„Ÿæ˜¯ä½ æœ€å¾Œçš„å¸Œæœ›", "ç™½å¹³è¡¡äº‚è·‘ï¼Œè‰²å½©é‚„æ•¢èªªã€Œè‡ªç„¶ã€", "æ¨¡ç³Šä¸æ˜¯è©©ï¼Œæ˜¯æ²’å°ç„¦",
            "é»‘ç™½ä¸æ˜¯æ·±åº¦ï¼Œæ˜¯é®ç¾", "æ¥µç°¡ä¸æ˜¯ä»€éº¼éƒ½æ²’æ‹åˆ°", "ç•™ç™½ç•™åˆ°åƒæ²’èµ°è¿‘",
            "å°ç¨±ä¸æ˜¯æ§‹åœ–ï¼Œæ˜¯æ€•å‡ºéŒ¯", "ä¸­å¤®æ§‹åœ–ç”¨ä¸€è¼©å­ï¼Œé‚„èªªæ˜¯é¢¨æ ¼", "å‰æ™¯äº‚æ”¾å«è¨­è¨ˆ",
            "å»£è§’è²¼è‡‰å«éœ‡æ’¼", "èƒŒæ™¯äº‚ä¸æ˜¯ç´€å¯¦ï¼Œæ˜¯ä¸è² è²¬", "çœ‹ä¸æ‡‚ä¸æ˜¯é«˜ç´šï¼Œæ˜¯æ²’èªªæ¸…æ¥š",
            "æ¨¡ç‰¹æ¼‚äº®ï¼Œä¸æ˜¯ä½ çš„åŠŸå‹", "æ•£æ™¯ä¸æ˜¯æƒ…æ„Ÿï¼Œæ˜¯èƒŒæ™¯ç³Šæ‰", "çœ¼ç¥ç©ºï¼Œä¸æ˜¯æ†‚é¬±ï¼Œæ˜¯æ²’å¼•å°",
            "æ¨¡ç‰¹åœ¨æ’ï¼Œä½ åœ¨è‡ªçˆ½", "å§¿å‹¢ä¸€æ¨£ï¼Œåªæ˜¯æ›äºº", "ä¿®çš®ä¿®åˆ°åƒå¡‘è† ï¼Œé‚„èªªçœŸå¯¦",
            "äººåƒä¸æ˜¯æ‹è‡‰éƒ¨è­‰ä»¶", "æ¨¡ç‰¹æ•‘äº†ä½ ï¼Œä½ é‚„ä»¥ç‚ºæ˜¯è‡ªå·±", "å·æ‹ä¸æ˜¯è¡—æ‹ï¼Œæ˜¯æ²’å‹‡æ°£",
            "è¢«æ‹’æ‹å°±èªªè‡ªå·±åœ¨åšè—è¡“", "å¾Œè£½ä¸æ˜¯å‰µä½œï¼Œæ˜¯æ€¥æ•‘", "æ¿¾é¡æ¯”å…§å®¹é‡",
            "é¡è‰²å¾ˆçŒ›ï¼Œæƒ…ç·’ç‚ºé›¶", "ä¿®åˆ°ä¸åƒäººï¼Œé‚„èªªè‡ªç„¶", "Lightroom ä¸æ˜¯è´–ç½ªåˆ¸",
            "ä¿®åœ–ä¿®åˆ°å¿˜è¨˜åŸæœ¬æƒ³æ‹ä»€éº¼", "å°æ¯”æ‹‰æ»¿ï¼Œæ•…äº‹æ¶ˆå¤±", "ä¸€éµé¢¨æ ¼ä¸æ˜¯é¢¨æ ¼",
            "HDR ä¸æ˜¯è®“äººçœ¼ç›æµè¡€", "å¾Œè£½æ™‚é–“æ¯”æ€è€ƒæ™‚é–“é•·", "æ²’é¢¨æ ¼ä¸å«å¤šå…ƒ",
            "æ¨¡ä»¿å¤ªåƒï¼Œå°±æ˜¯æŠ„", "æ¯å¼µéƒ½ä¸åŒï¼Œå…¶å¯¦éƒ½ä¸è¡Œ", "é»‘æš—ä¸æ˜¯æ·±æ²‰ï¼Œæ˜¯ç©º",
            "é¢¨æ ¼ä¸æ˜¯ä½ èªªäº†ç®—ï¼Œæ˜¯ä½œå“èªªäº†ç®—", "æ‹å¾ˆå¤šï¼Œä¸ä»£è¡¨æ‹å¾—å¥½", "å¿«é–€ç´¯ç©ï¼Œä¸ç­‰æ–¼æˆé•·",
            "ä½ èªªåœ¨æ‰¾é¢¨æ ¼ï¼Œå…¶å¯¦åœ¨æ‹–", "ä½œå“é›†åƒè·³èš¤å¸‚å ´", "ä½ è©²åˆªçš„æ¯”è©²ç•™çš„å¤š",
            "è®šå¤šä¸æ˜¯è­‰æ˜ï¼Œåªæ˜¯é‹æ°£", "è®šå°‘ä¹Ÿä¸ä»£è¡¨ä½ æ˜¯è—è¡“å®¶", "æ¼”ç®—æ³•ä¸æ˜¯ä½ çš„æ•µäººï¼Œæ˜¯ç…§å¦–é¡",
            "è¢«åˆ†äº«ä¸ä»£è¡¨è¢«ç†è§£", "æµé‡ä¾†å¾—å¿«ï¼Œä½ ä¹Ÿç©ºå¾—å¿«", "æ¨™ç±¤ä¸‹å¾—æº–ï¼Œç…§ç‰‡é‚„æ˜¯çˆ›",
            "æ–‡æ¡ˆæ¯”ç…§ç‰‡ç²¾å½©", "ç‚ºäº†æµé‡æ‹ï¼Œæœ€å¾Œåªå‰©æµé‡", "ç†±é–€æ§‹åœ–ä¸æ˜¯ä½ çš„é¢¨æ ¼",
            "æ¯å¼µéƒ½æƒ³çˆ†ï¼Œå…¶å¯¦æ²’ä¸€å¼µç«™å¾—ä½", "æ‹å¾ˆä¹…ï¼Œä¸ä»£è¡¨ä½ é€²æ­¥", "è€æ‰‹äº‚æ‹ï¼Œæ–°æ‰‹çœ‹ä¸å‡ºä¾†",
            "æ–°æ‰‹æ‹å¾—å¥½ï¼Œå°±æ˜¯å¥½", "è½ä¸é€²æ‰¹è©•çš„äººæœ€å±éšª", "ä¸€ç›´è¾¯è§£ï¼Œä»£è¡¨ä½ çŸ¥é“ä¸è¡Œ",
            "æ€ªå™¨æçš„äººä¸æƒ³é¢å°è‡ªå·±", "è‡ªç¨±è—è¡“å®¶çš„äººé€šå¸¸æœ€æ€•è¢«çœ‹æ‡‚", "æ”å½±ä¸æ˜¯é ­éŠœ",
            "æ‹ç…§ä¸æ˜¯é€ƒé¿æ€è€ƒ", "ç›¸æ©Ÿä¸æœƒå¹«ä½ åšé¸æ“‡", "å¥½ç…§ç‰‡ä¸ç”¨è§£é‡‹",
            "è§£é‡‹è¶Šå¤šï¼Œç…§ç‰‡è¶Šå¼±", "çœ‹ä¸å‡ºä½ æƒ³æ‹ä»€éº¼", "ã€Œæœ‰æ„Ÿè¦ºä½†èªªä¸å‡ºä¾†ã€ï¼æ²’å®Œæˆ",
            "æŠ€è¡“åˆ°ä½ï¼Œå…§å®¹ç¼ºå¸­", "æ‹å¾—æ¸…æ¥šï¼Œä¸ç­‰æ–¼æ‹å¾—å¥½", "ä½ å¾ˆåŠªåŠ›ï¼Œä½†ç…§ç‰‡æ²’æ”¶åˆ°",
            "ç›¸æ©Ÿå¾ˆé«˜ç´šï¼Œç…§ç‰‡å¾ˆæ™®é€š", "é€™å¼µä¸æ˜¯çˆ›ï¼Œæ˜¯æµªè²»", "æ²’å¤±æ•—ï¼Œä¸ä»£è¡¨æˆåŠŸ",
            "å¥½ç…§ç‰‡ä¸éœ€è¦å¾ˆå¤š", "åå¼µä¸€å¼µå°±å¾ˆå¼·", "åˆªç…§ç‰‡ä¹Ÿæ˜¯å‰µä½œ",
            "æ‹ç…§æ˜¯é¸æ“‡ï¼Œä¸æ˜¯å…¨æ”¶", "ä¸æ‹ï¼Œæœ‰æ™‚æ¯”äº‚æ‹å¥½", "ç›¸æ©Ÿæœƒéæ™‚ï¼Œçœ¼ç›ä¸æœƒ",
            "çœ‹å¾—å°‘ï¼Œæ‹å†å¤šéƒ½æ²’ç”¨", "ä½ æœ€å¾Œåªæœƒæ‹çµ¦è‡ªå·±çœ‹", "æ”å½±ä¸æ˜¯è­‰æ˜ä½ æœ‰å¤šå²å®³",
            "æ‹ç…§ï¼Œæœ€å¾Œæ˜¯åœ¨å°ä»˜è‡ªå·±"
        ];

        const BRAND_COMMENTS = {
            "canon": "Canonï¼ˆä½³èƒ½ï¼‰\nğŸ‘‰ ã€Œä½³èƒ½ï¼šå¤§å®¶ç¬¬ä¸€å°ç›¸æ©Ÿï¼Œè€å¸«ã€è¨˜è€…ã€å©šæ”éƒ½ç”¨å®ƒã€‚ã€",
            "nikon": "Nikonï¼ˆå°¼åº·ï¼‰\nğŸ‘‰ ã€Œå°¼åº·ï¼šæˆ‘ä¸è·Ÿæµè¡Œï¼Œæˆ‘åªè·Ÿå…‰ç·šè¬›é“ç†ã€‚ã€",
            "fujifilm": "Fujifilmï¼ˆå¯Œå£«ï¼‰\nğŸ‘‰ ã€Œå¯Œå£«ï¼šå“‡ï¼Œä½ æ˜¯å¯Œå®¶å­å¼Ÿï¼Œé€£é¡è‰²éƒ½å¾ˆæœ‰æ•™é¤Šã€‚ã€",
            "panasonic": "Panasonicï¼ˆæ¾ä¸‹ï¼‰\nğŸ‘‰ ã€Œæ¾ä¸‹ï¼šæˆ‘æ‹ç…§é‚„è¡Œï¼Œä½†æˆ‘å…¶å¯¦æ˜¯ä¾†æ‹é›»å½±çš„ã€‚ã€",
            "olympus": "OM System / Olympus\nğŸ‘‰ ã€Œå¥§æ—å·´æ–¯ï¼šæˆ‘å¾ˆå°ï¼Œä½†æˆ‘é™ªä½ ä¸Šå±±ä¸‹æµ·ã€‚ã€",
            "om digital": "OM System / Olympus\nğŸ‘‰ ã€Œå¥§æ—å·´æ–¯ï¼šæˆ‘å¾ˆå°ï¼Œä½†æˆ‘é™ªä½ ä¸Šå±±ä¸‹æµ·ã€‚ã€",
            "leica": "Leicaï¼ˆå¾ å¡ï¼‰\nğŸ‘‰ ã€Œå¾ å¡ï¼šä½ è²·çš„ä¸æ˜¯ç›¸æ©Ÿï¼Œæ˜¯ä¿¡ä»°èˆ‡ç´…é»ã€‚ã€",
            "pentax": "Pentaxï¼ˆè³“å¾—ï¼‰\nğŸ‘‰ ã€Œè³“å¾—ï¼šå¤§å®¶éƒ½å¿˜äº†æˆ‘ï¼Œä½†æˆ‘è‡ªå·±å¾ˆé©•å‚²ã€‚ã€",
            "hasselblad": "Hasselbladï¼ˆå“ˆè˜‡ï¼‰\nğŸ‘‰ ã€Œå“ˆè˜‡ï¼šæˆ‘ä¸€å¼µç…§ç‰‡ï¼Œç­‰æ–¼ä½ ä¸€å°é›»è…¦ã€‚ã€",
            "blackmagic": "Blackmagic Design\nğŸ‘‰ ã€ŒBlackmagicï¼šæ‹ç…§ï¼Ÿä¸ï¼Œæˆ‘åªæ´»åœ¨å‰ªæ¥è»Ÿé«”è£¡ã€‚ã€",
            "phase one": "Phase One\nğŸ‘‰ ã€ŒPhase Oneï¼šæ™®é€šäººä¸èªè­˜æˆ‘ï¼Œæœ‰éŒ¢äººä¸éœ€è¦è§£é‡‹ã€‚ã€",
            "gopro": "GoPro\nğŸ‘‰ ã€ŒGoProï¼šä½ åœ¨è·³å‚˜ï¼Œæˆ‘åœ¨å¹«ä½ ç•™éºç…§ã€‚ã€",
            "dji": "DJI\nğŸ‘‰ ã€ŒDJIï¼šæˆ‘æœ¬ä¾†æ˜¯ç„¡äººæ©Ÿï¼Œé †ä¾¿çµ±æ²»å½±åƒç•Œã€‚ã€",
            "insta360": "Insta360\nğŸ‘‰ ã€ŒInsta360ï¼šå…ˆæ‹å†èªªï¼Œåæ­£è§’åº¦ä¹‹å¾Œå†é¸ã€‚ã€",
            "kodak": "Kodakï¼ˆæŸ¯é”ï¼‰\nğŸ‘‰ ã€ŒæŸ¯é”ï¼šæˆ‘æ²’è½äº†ï¼Œä½†ä½ çš„é’æ˜¥æœ‰æˆ‘ã€‚ã€",
            "agfa": "AgfaPhoto\nğŸ‘‰ ã€ŒAgfaPhotoï¼šä½ ä¸çŸ¥é“æˆ‘æ˜¯èª°ï¼Œä½†æˆ‘ä¸€ç›´éƒ½åœ¨ã€‚ã€",
            "benq": "BenQï¼ˆæ˜åŸºï¼‰\nğŸ‘‰ ã€ŒBenQï¼šæˆ‘è¢å¹•å¾ˆå¼·ï¼Œç›¸æ©Ÿâ€¦ä¹Ÿç®—æœ‰èª æ„ã€‚ã€",
            "aigo": "Aigoï¼ˆæ„›åœ‹è€…ï¼‰\nğŸ‘‰ ã€ŒAigoï¼šåå­—å¾ˆç†±è¡€ï¼Œåƒ¹æ ¼æ›´ç†±è¡€ã€‚ã€",
            "flashback": "Flashback\nğŸ‘‰ ã€ŒFlashbackï¼šæˆ‘ä¸æ˜¯è€ï¼Œæ˜¯æ•…æ„å¾©å¤ã€‚ã€",
            "polaroid": "Polaroidï¼ˆå¯¶éº—ä¾†ï¼‰\nğŸ‘‰ ã€ŒPolaroidï¼šæ‹å®Œå°±å‡ºä¾†ï¼Œäººç”Ÿä¸èƒ½é‡ä¾†ã€‚ã€",
            "ricoh": "Ricohï¼ˆç†å…‰ï¼‰\nğŸ‘‰ ã€ŒRicohï¼šæ‡‚çš„äººå°±æ‡‚ï¼Œä¸æ‡‚çš„äººä¸€ç›´å•ç‚ºä»€éº¼ã€‚ã€",
            "rollei": "Rollei\nğŸ‘‰ ã€ŒRolleiï¼šå¾·åœ‹è€éˆé­‚ï¼Œæ•¸ä½æ–°èº«é«”ã€‚ã€",
            "vivitar": "Vivitar\nğŸ‘‰ ã€ŒVivitarï¼šåå­—å¾ˆéŸ¿ï¼Œå­˜åœ¨æ„Ÿå¾ˆä½›ã€‚ã€",
            "yashica": "Yashicaï¼ˆé›…è¥¿å¡ï¼‰\nğŸ‘‰ ã€ŒYashicaï¼šæˆ‘ä»¥å‰å¾ˆç´…ï¼Œç¾åœ¨é å›æ†¶ã€‚ã€",
            "z cam": "Z CAM\nğŸ‘‰ ã€ŒZ CAMï¼šä½ ä¸çŸ¥é“æˆ‘ï¼Œä½† Netflix å¯èƒ½çŸ¥é“ã€‚ã€",
            "apple": "Appleï¼ˆè˜‹æœï¼‰\nğŸ‘‰ ã€Œä½ è²·çš„ä¸æ˜¯æ‰‹æ©Ÿï¼Œæ˜¯ç”Ÿæ…‹ç³»å…¥å ´åˆ¸ã€‚ã€",
            "iphone": "Appleï¼ˆè˜‹æœï¼‰\nğŸ‘‰ ã€Œä½ è²·çš„ä¸æ˜¯æ‰‹æ©Ÿï¼Œæ˜¯ç”Ÿæ…‹ç³»å…¥å ´åˆ¸ã€‚ã€",
            "samsung": "Samsungï¼ˆä¸‰æ˜Ÿï¼‰\nğŸ‘‰ ã€Œå‹è™Ÿå¤šåˆ°é€£è‡ªå·±éƒ½éœ€è¦åˆ†é¡è¡¨ã€‚ã€",
            "google": "Googleï¼ˆPixelï¼‰\nğŸ‘‰ ã€Œç¡¬é«”æ™®é€šï¼Œä½†æˆ‘æ˜¯ AI è¦ªå…’å­ã€‚ã€",
            "pixel": "Googleï¼ˆPixelï¼‰\nğŸ‘‰ ã€Œç¡¬é«”æ™®é€šï¼Œä½†æˆ‘æ˜¯ AI è¦ªå…’å­ã€‚ã€",
            "xiaomi": "Xiaomiï¼ˆå°ç±³ï¼‰\nğŸ‘‰ ã€Œè¦æ ¼çµ¦æ»¿ï¼Œåƒ¹æ ¼çµ¦ç”œï¼Œåå­—ä¸€ç›´æ”¹ã€‚ã€",
            "oneplus": "OnePlusï¼ˆä¸€åŠ ï¼‰\nğŸ‘‰ ã€Œç•¶å¹´æ——è‰¦æ®ºæ‰‹ï¼Œç¾åœ¨è‡ªå·±è®Šæ——è‰¦ã€‚ã€",
            "motorola": "Motorolaï¼ˆæ‘©æ‰˜ç¾…æ‹‰ï¼‰\nğŸ‘‰ ã€Œæˆ‘é‚„æ´»è‘—ï¼Œè€Œä¸”æˆ‘æœƒæŠ˜ã€‚ã€",
            "vivo": "vivo\nğŸ‘‰ ã€Œæ‹äººåƒå¾ˆç¾ï¼Œåå­—æ°¸é æ‰“å°å¯«ã€‚ã€",
            "oppo": "OPPO\nğŸ‘‰ ã€Œå……é›»å¿«åˆ°ä½ é‚„æ²’æ‰¾å¥½æ’åº§å°±æ»¿äº†ã€‚ã€",
            "realme": "Realme\nğŸ‘‰ ã€Œæˆ‘å¹´è¼•ã€æˆ‘ä¾¿å®œã€æˆ‘ä¸€ç›´å‡ºæ–°æ©Ÿã€‚ã€",
            "iqoo": "iQOO\nğŸ‘‰ ã€Œæ€§èƒ½æ€ªç¸ï¼Œä½†åå­—åƒé›»ç«¶éšŠä¼ã€‚ã€",
            "nothing": "Nothing\nğŸ‘‰ ã€Œæˆ‘ä»€éº¼éƒ½æ²’æœ‰ï¼Œä½†ä½ å°±æ˜¯æœƒå¤šçœ‹å…©çœ¼ã€‚ã€",
            "infinix": "Infinix\nğŸ‘‰ ã€Œè¦æ ¼å¯«å¾—å¾ˆçŒ›ï¼Œåƒ¹æ ¼ä½åˆ°ä¸åƒçœŸçš„ã€‚ã€",
            "tecno": "Tecno\nğŸ‘‰ ã€Œä½ å¯èƒ½æ²’è½éæˆ‘ï¼Œä½†æˆ‘è³£å¾—æ¯”ä½ æƒ³åƒå¤šã€‚ã€",
            "honor": "Honorï¼ˆæ¦®è€€ï¼‰\nğŸ‘‰ ã€Œæˆ‘ä¸æ˜¯è¯ç‚ºï¼Œä½†å¤§å®¶ä¸€ç›´é€™æ¨£çœ‹æˆ‘ã€‚ã€",
            "nokia": "Nokiaï¼ˆè«¾åŸºäºï¼‰\nğŸ‘‰ ã€Œæ‰‹æ©Ÿæœƒå£ï¼Œä½†æˆ‘ä¸æœƒå€’ã€‚ã€",
            "htc": "HTC\nğŸ‘‰ ã€Œæˆ‘æ›¾ç¶“ç«™åœ¨ä¸–ç•Œä¹‹å·”ã€‚ã€"
        };

        // --- APP STATE ---
        let fileList = [];
        let currentIndex = -1;
        let currentData = {};

        // --- DOM ELEMENTS ---
        const dropZone = document.getElementById('drop-zone');
        const fileInput = document.getElementById('file-input');
        const imagePreview = document.getElementById('image-preview');
        const previewPlaceholder = document.getElementById('preview-placeholder');
        const hoverWarning = document.getElementById('hover-warning');
        
        const gearListContent = document.getElementById('gear-list-content');
        const exposureDataContent = document.getElementById('exposure-data-content');
        
        const btnPrev = document.getElementById('btn-prev');
        const btnNext = document.getElementById('btn-next');
        const btnExport = document.getElementById('btn-export');
        
        const fileIndexEl = document.getElementById('file-index');
        const fileNameEl = document.getElementById('file-name');
        
        const quoteModal = document.getElementById('quote-modal');
        const soulQuoteText = document.getElementById('soul-quote-text');
        const quoteBox = document.getElementById('quote-box');

        // --- EVENT LISTENERS ---
        
        // Drag & Drop
        dropZone.addEventListener('click', (e) => {
            // Avoid triggering input if clicking on image (simulating the Python 'open original' somewhat, but simpler here)
            if(e.target !== imagePreview) fileInput.click();
        });
        imagePreview.addEventListener('click', () => {
             // In web, maybe open full image in new tab
             if(fileList.length > 0) window.open(URL.createObjectURL(fileList[currentIndex]), '_blank');
        });

        // Hover effect for "Don't touch" warning
        imagePreview.addEventListener('mouseenter', () => hoverWarning.classList.remove('hidden'));
        imagePreview.addEventListener('mousemove', (e) => {
             const rect = dropZone.getBoundingClientRect();
             const x = e.clientX - rect.left + 20;
             const y = e.clientY - rect.top + 20;
             hoverWarning.style.left = `${e.clientX - rect.left}px`;
             hoverWarning.style.top = `${e.clientY - rect.top}px`;
        });
        imagePreview.addEventListener('mouseleave', () => hoverWarning.classList.add('hidden'));

        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(e => {
            dropZone.addEventListener(e, (ev) => {
                ev.preventDefault(); ev.stopPropagation();
            });
        });
        
        dropZone.addEventListener('drop', (e) => handleFiles(e.dataTransfer.files));
        fileInput.addEventListener('change', (e) => handleFiles(e.target.files));

        btnPrev.addEventListener('click', () => loadFile(currentIndex - 1));
        btnNext.addEventListener('click', () => loadFile(currentIndex + 1));
        
        // Modal
        const closeModal = () => quoteModal.classList.add('hidden');
        quoteModal.addEventListener('click', closeModal);
        document.addEventListener('keydown', (e) => { if(e.key === 'Escape') closeModal(); });

        // Export
        btnExport.addEventListener('click', exportToTxt);

        // --- FUNCTIONS ---

        function handleFiles(files) {
            const newFiles = Array.from(files).filter(f => f.type.startsWith('image/'));
            if(newFiles.length === 0) return;

            fileList = newFiles; // Replace list for batch upload
            currentIndex = 0;
            loadFile(0);
        }

        function loadFile(index) {
            if(index < 0 || index >= fileList.length) return;
            currentIndex = index;
            const file = fileList[currentIndex];

            // UI Updates
            btnPrev.disabled = currentIndex === 0;
            btnNext.disabled = currentIndex === fileList.length - 1;
            fileIndexEl.textContent = `INDEX: ${currentIndex + 1}/${fileList.length}`;
            fileNameEl.textContent = file.name;
            
            // Preview
            const url = URL.createObjectURL(file);
            imagePreview.src = url;
            imagePreview.classList.remove('hidden');
            previewPlaceholder.classList.add('hidden');

            // Parse EXIF
            analyzeImage(file);
        }

        function analyzeImage(file) {
            // Reset Displays
            gearListContent.innerHTML = '<p class="text-[var(--cyber-cyan)] animate-pulse">ANALYZING...</p>';
            exposureDataContent.innerHTML = '<p class="text-[var(--cyber-pink)] animate-pulse">DECRYPTING...</p>';
            
            // Random Quote
            const quote = SOUL_QUOTES[Math.floor(Math.random() * SOUL_QUOTES.length)];
            soulQuoteText.innerText = quote;
            quoteModal.classList.remove('hidden'); // Show popup on new image load
            
            EXIF.getData(file, function() {
                const data = this.exifdata;
                const make = data.Make || "Unknown";
                const model = data.Model || "Unknown";
                const lens = data.LensModel || "Unknown Lens"; // Some cameras don't support this tag standardly in JS
                const date = data.DateTimeOriginal || data.DateTime || "";
                
                // --- Brand Quote ---
                let brandQuote = "";
                const checkStr = (make + " " + model).toLowerCase();
                if (checkStr.includes("sony")) {
                    brandQuote = checkStr.includes("xperia") ? 
                        "Sonyï¼ˆç´¢å°¼ï¼‰\nğŸ‘‰ ã€Œç›¸æ©Ÿéƒ¨é–€å¾ˆå¼·ï¼Œä½†æ‰‹æ©Ÿåªæƒ³åšçµ¦æ‡‚çš„äººã€‚ã€" : 
                        "Sonyï¼ˆç´¢å°¼ï¼‰\nğŸ‘‰ ã€ŒSonyï¼šå°ç„¦æ¯”ä½ äººç”Ÿç›®æ¨™é‚„å¿«ã€‚ã€";
                } else {
                    for (const [key, val] of Object.entries(BRAND_COMMENTS)) {
                        if (checkStr.includes(key)) {
                            brandQuote = val;
                            break;
                        }
                    }
                }

                // --- Date Analysis ---
                let dateComment = "æˆ‘æ²’æœ‰ç”Ÿæ—¥";
                if(date) {
                    try {
                        // EXIF Date format is usually "YYYY:MM:DD HH:MM:SS"
                        const parts = date.split(' ')[0].split(':');
                        const year = parseInt(parts[0]);
                        const mainDate = parts.join('-');
                        
                        let comment = "";
                        if (year >= 2024) comment = "ã€Œé‚„åœ¨ä¿å›ºå…§ã€\nğŸ‘‰ è¨˜æ†¶æ–°é®®ã€ç¡¬ç¢Ÿé‚„æ²’å£\nğŸ‘‰ ã€Œé€™ä¸æ˜¯èˆŠç…§ï¼Œæ˜¯å›é¡§ã€";
                        else if (year >= 2023) comment = "ã€Œæ™‚é–“éå¥½å¿«æ¨¡å¼ã€\nğŸ‘‰ æ‹çš„æ™‚å€™æ˜æ˜æ˜¯æ˜¨å¤©\nğŸ‘‰ ã€Œæ€éº¼å·²ç¶“å…©å¹´äº†ï¼Ÿã€";
                        else if (year >= 2022) comment = "ã€Œç–«æƒ…å¾Œéºç…§ï¼ˆæƒ…æ„Ÿç‰ˆï¼‰ã€\nğŸ‘‰ äººé‚„åœ¨ï¼Œæ„Ÿè¦ºä¸ä¸€æ¨£äº†\nğŸ‘‰ ã€Œé‚£æ™‚å€™çš„æˆ‘ï¼Œå¥½ç˜¦ / å¥½å¤©çœŸã€";
                        else if (year >= 2021) comment = "ã€Œæ™‚ä»£äº¤ç•Œç·šã€\nğŸ‘‰ æ‹ç…§è¨­å‚™å·²è¢«å«ŒèˆŠ\nğŸ‘‰ ã€Œé€™æ˜¯å‰ä¸€æ”¯æ‰‹æ©Ÿæ‹çš„ã€";
                        else if (year >= 2020) comment = "ã€Œå“‡é ï¼Œå·²ç¶“äº”å¹´äº†ã€\nğŸ‘‰ æ­£å¼é€²å…¥æ‡·èˆŠå€\nğŸ‘‰ ã€Œé€™å¼µç¾åœ¨çœ‹æœ‰é»æ„Ÿæƒ…ã€";
                        else if (year >= 2015) comment = "ã€Œç¶“å…¸è€ç…§ç‰‡ã€\nğŸ‘‰ æ¿¾é¡é–‹å§‹æœ‰å¹´ä»£æ„Ÿ\nğŸ‘‰ ã€Œé€™æ˜¯æˆ‘ä»¥å‰çš„é¢¨æ ¼ã€ï¼ˆ= ä¸æƒ³æ‰¿èªï¼‰";
                        else if (year >= 2000) comment = "ã€Œæ­·å²æ–‡ä»¶ç­‰ç´šã€\nğŸ‘‰ äººç‰©å¤–å‹å·®å¾ˆå¤š\nğŸ‘‰ ã€Œé‚£æ™‚å€™å¤§å®¶éƒ½é€™æ¨£ç©¿ã€";
                        else comment = "ã€Œè€ƒå¤ç¾å ´ã€\nğŸ‘‰ ç•«è³ªæ„Ÿäººã€è¡¨æƒ…çœŸèª \nğŸ‘‰ ã€Œé€™å¼µè¦å°å¿ƒæ‹¿ã€";
                        
                        dateComment = `${mainDate}\n\n[ æ™‚å…‰æ©Ÿåˆ†æ // TIME_MACHINE_LOG ]\n${comment}`;
                    } catch(e) { dateComment = `${date} (DATA PARSE ERROR)`; }
                }

                // --- Exposure Mode Sarcasm ---
                let expModeStr = "ä½ äº‚æ‹å°å§?";
                const prog = data.ExposureProgram; // Integer
                if(prog === 1) expModeStr = "M = Magic Modeï¼ˆé­”æ³•æ¨¡å¼ï¼‰ ğŸ‘‰ æ–°æ‰‹ä»¥ç‚ºé€²å»æœƒè‡ªå‹•è®Šå¼·";
                else if(prog === 2) expModeStr = "P = Pray Modeï¼ˆç¥ˆç¦±æ¨¡å¼ï¼‰ ğŸ‘‰ å¸Œæœ›ç›¸æ©Ÿæ‡‚æˆ‘";
                else if(prog === 3) expModeStr = "Av = Art Vision æ¨¡å¼ï¼ˆè—è¡“è¦–è§’ï¼‰ ğŸ‘‰ èƒŒæ™¯èƒ½ç³Šå°±æ˜¯å¥½ç…§ç‰‡";
                else if(prog === 4) expModeStr = "S = Stop That Motion æ¨¡å¼ ğŸ‘‰ ä¸å‡†å‹•ï¼";
                else expModeStr = "Auto = Blame the Camera Modeï¼ˆå‡ºäº‹æ€ªç›¸æ©Ÿï¼‰";

                // --- Values ---
                const width = file.width || data.PixelXDimension || 0; // JS Image object width might be needed
                const height = file.height || data.PixelYDimension || 0;
                // Note: file.width/height depends on if we loaded it into an Image object. 
                // For simplified logic, we use what we can get. 
                // Getting real dims usually requires reading the image header properly. 
                // Let's use imagePreview.naturalWidth since we loaded it.
                
                const realW = imagePreview.naturalWidth;
                const realH = imagePreview.naturalHeight;
                const mp = realW && realH ? (realW * realH / 1000000).toFixed(1) + " MP" : "æœªçŸ¥";
                const sizeMB = (file.size / (1024 * 1024)).toFixed(2);
                
                const iso = data.ISOSpeedRatings || "æˆ‘è®€ä¸åˆ°åˆ¥å•æˆ‘";
                
                let shutter = "åˆ¥çœ‹é€™ï¼Œæ²’è³‡æ–™";
                if(data.ExposureTime) {
                    const val = parseFloat(data.ExposureTime);
                    if(val < 1) shutter = `1/${Math.round(1/val)}`;
                    else shutter = `${val} ç§’`;
                }

                const fNum = data.FNumber ? `f/${data.FNumber}` : "å¤§æ¦‚æ²’è£é¡é ­å§?";
                const focal = data.FocalLength ? `${data.FocalLength} mm` : "æˆ‘ç´¯äº†";
                const wb = data.WhiteBalance == 1 ? "æ‰‹å‹•" : "è‡ªå‹• (è‰²å½©ä¸é‡è¦)";
                const gps = data.GPSLatitude ? "åŒ…å«åº§æ¨™æ•¸æ“š" : "æˆ‘æ²’æœ‰ GPS ï¼Œä½ åˆ¥çœ‹äº†";
                
                // Hyperfocal Distance Calc (Approx)
                let hyperStr = "é€™ä½ ä¸éœ€è¦çŸ¥é“ï¼Œåæ­£ä½ ä¹Ÿä¸åœ¨ä¹";
                if(data.FocalLength && data.FNumber) {
                     // H = f^2 / (N * c) + f, c approx 0.03 for full frame
                     const fl = parseFloat(data.FocalLength);
                     const fn = parseFloat(data.FNumber);
                     const hDist = ((Math.pow(fl, 2) / (fn * 0.03)) + fl) / 1000;
                     hyperStr = `${hDist.toFixed(2)} m`;
                }

                // --- Construct Text ---
                const gearHtml = `
                    <p class="mb-2"><span class="text-[var(--cyber-yellow)]">DEVICE_NAME :</span> ${make} ${model}</p>
                    <p class="mb-2"><span class="text-[var(--cyber-yellow)]">LENS_MODEL  :</span> ${lens}</p>
                    <p class="mb-2"><span class="text-[var(--cyber-yellow)]">CAPTURE_DATE:</span></p>
                    <div class="pl-4 mb-4 border-l-2 border-[var(--cyber-cyan)] text-gray-300 italic">${dateComment.replace(/\n/g, '<br>')}</div>
                    
                    <p class="mb-1"><span class="text-gray-400">RESOLUTION  :</span> ${realW} x ${realH} (${mp})</p>
                    <p class="mb-1"><span class="text-gray-400">FILE_SIZE   :</span> ${sizeMB} MB</p>
                    <p class="mb-1"><span class="text-gray-400">GPS_STATUS  :</span> ${gps}</p>
                    
                    <div class="mt-4 pt-4 border-t border-[var(--cyber-yellow)]">
                        <p class="text-[var(--cyber-yellow)] font-bold mb-2">>> å“ç‰Œæ¯’è©• <<</p>
                        <p class="text-white">${brandQuote || "é€™ç‰Œå­å¤ªå†·é–€ï¼Œé€£é…¸éƒ½æ‡¶å¾—é…¸ã€‚"}</p>
                    </div>
                `;

                const expHtml = `
                    <p class="mb-2"><span class="text-[var(--cyber-pink)]">EXP_MODE    :</span> ${expModeStr}</p>
                    <p class="mb-2"><span class="text-[var(--cyber-pink)]">ISO_SPEED   :</span> ISO ${iso}</p>
                    <p class="mb-2"><span class="text-[var(--cyber-pink)]">SHUTTER     :</span> ${shutter}</p>
                    <p class="mb-2"><span class="text-[var(--cyber-pink)]">APERTURE    :</span> ${fNum}</p>
                    <p class="mb-2"><span class="text-[var(--cyber-pink)]">FOCAL_LEN   :</span> ${focal}</p>
                    <p class="mb-2"><span class="text-[var(--cyber-pink)]">WHITE_BAL   :</span> ${wb}</p>
                    <p class="mb-2"><span class="text-[var(--cyber-pink)]">HYPERFOCAL  :</span> ${hyperStr}</p>
                `;

                gearListContent.innerHTML = gearHtml;
                exposureDataContent.innerHTML = expHtml;
                
                // Save for export
                currentData = {
                    filename: file.name,
                    gear: gearListContent.innerText,
                    exp: exposureDataContent.innerText
                };
            });
        }

        function exportToTxt() {
            if(!currentData.filename) {
                alert("NO DATA TO EXPORT");
                return;
            }
            const content = `// CYBERDECK EXIF ANALYSIS LOG //\n` +
                            `TARGET_FILE: ${currentData.filename}\n\n` +
                            `[ GEAR_LIST ]\n${currentData.gear}\n\n` +
                            `[ EXPOSURE_DATA ]\n${currentData.exp}\n`;
            
            const blob = new Blob([content], {type: "text/plain;charset=utf-8"});
            saveAs(blob, `${currentData.filename}_DATA_LOG.txt`);
        }

    </script>
</body>
</html>